"use strict";!function(){function a(a,b){var c=a.getTime(),d=new Date(c+24*b*60*60*1e3);return d}function b(a,b){b=b||document;for(var c=b.getElementsByClassName(a);c.length>0;)c[0].parentNode.removeChild(c[0])}function c(a,b,c){var d;d=new XMLHttpRequest,d.onreadystatechange=function(){4===d.readyState&&200===d.status&&b(d.responseText,c)},d.open("GET",a,!0),d.send()}function d(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;for(a=JSON.parse(a),c=c||new Date,e=new Date(c).toLocaleDateString(),f=a.filter(function(a){return d=new Date(a.startTime).toLocaleString(),d.split(",")[0]===e?(a.startTime=d,a.endTime=new Date(a.endTime).toLocaleString(),a):void 0}),m=document.getElementById("current-date"),m.innerHTML=c.toDateString(),n=document.getElementById("meeting-container"),b("details",n),g=document.getElementsByClassName("meeting-info"),x=0;x<f.length;x++){for(q=new Date(f[x].startTime),r=new Date(f[x].endTime),s=[],y=x+1;y<f.length;y++)t=new Date(f[y].startTime),u=new Date(f[y].endTime),(q===t||t>q&&r>t||u>q&&r>u||q>t&&u>q)&&(f[x].overlapCount?f[x].overlapCount++:f[x].overlapCount=1,f[y].overlapCount?f[y].overlapCount++:f[y].overlapCount=1,s.push(f[y]));for(z=0;z<s.length;z++)s[z].pushNext||(s[z].pushNext=100/(s.length+1)*(z+1))}for(x=0;x<f.length;x++)h=new Date(f[x].startTime),i=new Date(f[x].endTime),j=document.getElementById("meeting-template").innerHTML,j=j.replace("{{title}}",f[x].title),j=j.replace("{{startTime}}",f[x].startTime.split(",")[1]),j=j.replace("{{endTime}}",f[x].endTime.split(",")[1]),k=h.getMinutes(),k=parseInt(k,10),j=j.replace("{{topValue}}",(k/60*100).toString()+"%"),h.getDate()===i.getDate()?(l=i.getTime()-h.getTime(),l/=6e4,j=j.replace("{{heightValue}}",(l/60*100).toString()+"%")):j=j.replace("{{heightValue}}",(100-k/60*100).toString()+"%"),v=100,w=0,f[x].overlapCount&&(v=(100/(f[x].overlapCount+1)).toString()),j=j.replace("{{widthValue}}",v+"%"),f[x].pushNext&&(w=f[x].pushNext.toString()),j=j.replace("{{leftValue}}",w+"%"),g[h.getHours()].innerHTML+=j;o=document.getElementById("calendar"),p=document.getElementById("scrollTo"),o.scrollTop=p.offsetTop}var e=document.getElementById("prev"),f=document.getElementById("next"),g=document.getElementById("today"),h=new Date;e.addEventListener("click",function(){h=a(h,-1),c("data/sample-data.json",d,h)}),f.addEventListener("click",function(){h=a(h,1),c("data/sample-data.json",d,h)}),g.addEventListener("click",function(){h=new Date,c("data/sample-data.json",d,h)}),c("data/sample-data.json",d,h)}();